"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[3036],{72187:(e,a,n)=>{n.r(a),n.d(a,{assets:()=>s,contentTitle:()=>l,default:()=>u,frontMatter:()=>c,metadata:()=>d,toc:()=>r});var t=n(85893),i=n(11151);const c={},l="Feedback",d={id:"guides/tracking/feedback",title:"Feedback",description:"Evaluating LLM applications automatically is challenging. Teams often rely on direct user feedback, particularly from domain experts, who assess the content quality using simple indicators such as thumbs up or down. Developers also actively identify and resolve content issues.",source:"@site/docs/guides/tracking/feedback.md",sourceDirName:"guides/tracking",slug:"/guides/tracking/feedback",permalink:"/guides/tracking/feedback",draft:!1,unlisted:!1,editUrl:"https://github.com/wandb/weave/blob/master/docs/docs/guides/tracking/feedback.md",tags:[],version:"current",lastUpdatedAt:1727132343e3,frontMatter:{},sidebar:"documentationSidebar",previous:{title:"Evaluations",permalink:"/guides/core-types/evaluations"},next:{title:"Costs",permalink:"/guides/tracking/costs"}},s={},r=[{value:"View and Add Feedback within UI",id:"view-and-add-feedback-within-ui",level:2},{value:"SDK",id:"sdk",level:2},{value:"Querying a project&#39;s feedback",id:"querying-a-projects-feedback",level:3},{value:"Adding feedback to a call",id:"adding-feedback-to-a-call",level:3},{value:"Retrieving the Call UUID",id:"retrieving-the-call-uuid",level:3},{value:"Querying feedback on a call",id:"querying-feedback-on-a-call",level:3},{value:"Deleting feedback from a call",id:"deleting-feedback-from-a-call",level:3}];function o(e){const a={code:"code",h1:"h1",h2:"h2",h3:"h3",img:"img",p:"p",pre:"pre",...(0,i.a)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(a.h1,{id:"feedback",children:"Feedback"}),"\n",(0,t.jsx)(a.p,{children:"Evaluating LLM applications automatically is challenging. Teams often rely on direct user feedback, particularly from domain experts, who assess the content quality using simple indicators such as thumbs up or down. Developers also actively identify and resolve content issues."}),"\n",(0,t.jsx)(a.p,{children:"Weave's feedback feature enables users to provide feedback directly within the Weave UI or through the API. You can add emoji reactions, textual notes, and structured data to calls. This feedback helps compile evaluation datasets, monitor application performance, and collect examples for advanced tasks like fine-tuning."}),"\n",(0,t.jsx)(a.h2,{id:"view-and-add-feedback-within-ui",children:"View and Add Feedback within UI"}),"\n",(0,t.jsx)(a.p,{children:"Reactions and notes are displayed in a column in the calls grid. Hovering over these indicators provides more detail. Use these buttons to add reactions or notes."}),"\n",(0,t.jsx)(a.p,{children:(0,t.jsx)(a.img,{alt:"Screenshot of calls grid with feedback column",src:n(60181).Z+"",width:"3170",height:"1589"})}),"\n",(0,t.jsx)(a.p,{children:"View and edit feedback in the header of the call details page."}),"\n",(0,t.jsx)(a.p,{children:(0,t.jsx)(a.img,{alt:"Screenshot of feedback controls in call details header",src:n(227).Z+"",width:"1276",height:"354"})}),"\n",(0,t.jsx)(a.p,{children:'View the feedback for a call on the "Feedback" tab of the call details page.'}),"\n",(0,t.jsx)(a.p,{children:(0,t.jsx)(a.img,{alt:"Screenshot of Feedback tab in call details",src:n(35570).Z+"",width:"1266",height:"548"})}),"\n",(0,t.jsx)(a.p,{children:'Access copy-and-paste examples on the "Use" tab of the call details page to manipulate the feedback for that call using the SDK.'}),"\n",(0,t.jsx)(a.p,{children:(0,t.jsx)(a.img,{alt:"Screenshot of Use tab in call details",src:n(22421).Z+"",width:"1270",height:"970"})}),"\n",(0,t.jsx)(a.h2,{id:"sdk",children:"SDK"}),"\n",(0,t.jsx)(a.p,{children:"Use the Weave Python SDK to programmatically add, remove, and query feedback on calls."}),"\n",(0,t.jsx)(a.h3,{id:"querying-a-projects-feedback",children:"Querying a project's feedback"}),"\n",(0,t.jsx)(a.pre,{children:(0,t.jsx)(a.code,{className:"language-python",children:'import weave\nclient = weave.init(\'intro-example\')\n\n# Get all feedback in a project\nall_feedback = client.get_feedback()\n\n# Fetch a specific feedback object by id.\n# Note that the API still returns a collection, which is expected\n# to contain zero or one item(s).\none_feedback = client.get_feedback("<feedback_uuid>")[0]\n\n# Find all feedback objects with a specific reaction. You can specify offset and limit.\nthumbs_up = client.get_feedback(reaction="\ud83d\udc4d", limit=10)\n\n# After retrieval you can view the details of individual feedback objects.\nfor f in client.get_feedback():\n    print(f.id)\n    print(f.created_at)\n    print(f.feedback_type)\n    print(f.payload)\n'})}),"\n",(0,t.jsx)(a.h3,{id:"adding-feedback-to-a-call",children:"Adding feedback to a call"}),"\n",(0,t.jsx)(a.pre,{children:(0,t.jsx)(a.code,{className:"language-python",children:'import weave\nclient = weave.init(\'intro-example\')\n\ncall = client.get_call("<call_uuid>")\n\n# Adding an emoji reaction\ncall.feedback.add_reaction("\ud83d\udc4d")\n\n# Adding a note\ncall.feedback.add_note("this is a note")\n\n# Adding custom key/value pairs.\n# The first argument is a user-defined "type" string.\n# Feedback must be JSON serializable and less than 1kb when serialized.\ncall.feedback.add("correctness", { "value": 5 })\n'})}),"\n",(0,t.jsx)(a.h3,{id:"retrieving-the-call-uuid",children:"Retrieving the Call UUID"}),"\n",(0,t.jsx)(a.p,{children:"For scenarios where you need to add feedback immediately after a call, you can retrieve the call UUID programmatically during or after the call execution. Here is how to get the UUID of the call from within the operation:"}),"\n",(0,t.jsx)(a.pre,{children:(0,t.jsx)(a.code,{className:"language-python",children:'\nimport weave\nweave.init("uuid")\n\n@weave.op()\ndef simple_operation(input_value):\n    # Perform some simple operation\n    output = f"Processed {input_value}"\n    # Get the current call ID\n    current_call = weave.require_current_call()\n    call_id = current_call.id\n    return output, call_id\n'})}),"\n",(0,t.jsx)(a.p,{children:"Additionally, you can use call() method to execute the operation and retrieve the call ID after execution of the function:"}),"\n",(0,t.jsx)(a.pre,{children:(0,t.jsx)(a.code,{className:"language-python",children:'import weave\nweave.init("uuid")\n\n@weave.op()\ndef simple_operation(input_value):\n    return f"Processed {input_value}"\n\n# Execute the operation and retrieve the result and call ID\nresult, call = simple_operation.call("example input")\ncall_id = call.id\n'})}),"\n",(0,t.jsx)(a.h3,{id:"querying-feedback-on-a-call",children:"Querying feedback on a call"}),"\n",(0,t.jsx)(a.pre,{children:(0,t.jsx)(a.code,{className:"language-python",children:"for f in call.feedback:\n    print(f.id)\n    print(f.feedback_type)\n    print(f.payload)\n"})}),"\n",(0,t.jsx)(a.h3,{id:"deleting-feedback-from-a-call",children:"Deleting feedback from a call"}),"\n",(0,t.jsx)(a.pre,{children:(0,t.jsx)(a.code,{className:"language-python",children:'call.feedback.purge("<feedback_uuid>")\n'})})]})}function u(e={}){const{wrapper:a}={...(0,i.a)(),...e.components};return a?(0,t.jsx)(a,{...e,children:(0,t.jsx)(o,{...e})}):o(e)}},227:(e,a,n)=>{n.d(a,{Z:()=>t});const t=n.p+"assets/images/feedback_call_header-4860da90c10fd414ca3a8380116d8322.png"},60181:(e,a,n)=>{n.d(a,{Z:()=>t});const t=n.p+"assets/images/feedback_calls-7185aaa5f8c703b00f8272ed8ff4eb02.png"},35570:(e,a,n)=>{n.d(a,{Z:()=>t});const t=n.p+"assets/images/feedback_tab-8158b2e4dc0ccf550466ba83f915a66a.png"},22421:(e,a,n)=>{n.d(a,{Z:()=>t});const t=n.p+"assets/images/feedback_use-0bceef665c918e317a1be4a07fe92faf.png"},11151:(e,a,n)=>{n.d(a,{Z:()=>d,a:()=>l});var t=n(67294);const i={},c=t.createContext(i);function l(e){const a=t.useContext(c);return t.useMemo((function(){return"function"==typeof e?e(a):{...a,...e}}),[a,e])}function d(e){let a;return a=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:l(e.components),t.createElement(c.Provider,{value:a},e.children)}}}]);